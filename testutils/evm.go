// Copyright (c) 2020 The qitmeer developers
// Use of this source code is governed by an ISC
// license that can be found in the LICENSE file.

package testutils

import (
	"context"
	"crypto/ecdsa"
	"encoding/hex"
	"errors"
	"github.com/Qitmeer/qng/params"
	"github.com/ethereum/go-ethereum/accounts/abi/bind"
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/core/types"
	"github.com/ethereum/go-ethereum/crypto"
	"log"
	"math/big"
)

var CHAIN_ID = params.PrivNetParams.MeerEVMCfg.ChainID

const GAS_LIMIT = 8000000

var MAX_UINT256 = new(big.Int).Sub(new(big.Int).Lsh(common.Big1, 255), common.Big1)

//    bytecode
//    MEERERC20 Contract
//    _name = "Meer Tether USD";
//    _symbol = "USDT";
//    _decimals = 18;
//    _totalSupply = 30000000000000000000000000;
//    _balances[msg.sender] = _totalSupply;
const ERC20Code = `0x60806040523480156200001157600080fd5b506000620000276001600160e01b036200014516565b600080546001600160a01b0319166001600160a01b0383169081178255604051929350917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a35060408051808201909152600f8082526e1359595c8815195d1a195c881554d1608a1b6020909201918252620000a9916006916200014a565b50604080518082019091526004808252631554d11560e21b6020909201918252620000d7916005916200014a565b506004805460ff191660121790556a18d0bf423c03d8de0000006003819055336000818152600160209081526040808320859055805194855251929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a3620001ec565b335b90565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200018d57805160ff1916838001178555620001bd565b82800160010185558215620001bd579182015b82811115620001bd578251825591602001919060010190620001a0565b50620001cb929150620001cf565b5090565b6200014791905b80821115620001cb5760008155600101620001d6565b61101280620001fc6000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c8063715018a6116100a2578063a0712d6811610071578063a0712d68146102e8578063a457c2d714610305578063a9059cbb14610331578063dd62ed3e1461035d578063f2fde38b1461038b5761010b565b8063715018a6146102aa578063893d20e8146102b45780638da5cb5b146102d857806395d89b41146102e05761010b565b8063313ce567116100de578063313ce5671461021d578063395093511461023b57806342966c681461026757806370a08231146102845761010b565b806306fdde0314610110578063095ea7b31461018d57806318160ddd146101cd57806323b872dd146101e7575b600080fd5b6101186103b1565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561015257818101518382015260200161013a565b50505050905090810190601f16801561017f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101b9600480360360408110156101a357600080fd5b506001600160a01b038135169060200135610447565b604080519115158252519081900360200190f35b6101d5610464565b60408051918252519081900360200190f35b6101b9600480360360608110156101fd57600080fd5b506001600160a01b0381358116916020810135909116906040013561046a565b6102256104f7565b6040805160ff9092168252519081900360200190f35b6101b96004803603604081101561025157600080fd5b506001600160a01b038135169060200135610500565b6101b96004803603602081101561027d57600080fd5b5035610554565b6101d56004803603602081101561029a57600080fd5b50356001600160a01b031661056f565b6102b261058a565b005b6102bc61063e565b604080516001600160a01b039092168252519081900360200190f35b6102bc61064d565b61011861065c565b6101b9600480360360208110156102fe57600080fd5b50356106bd565b6101b96004803603604081101561031b57600080fd5b506001600160a01b03813516906020013561073a565b6101b96004803603604081101561034757600080fd5b506001600160a01b0381351690602001356107a8565b6101d56004803603604081101561037357600080fd5b506001600160a01b03813581169160200135166107bc565b6102b2600480360360208110156103a157600080fd5b50356001600160a01b03166107e7565b60068054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561043d5780601f106104125761010080835404028352916020019161043d565b820191906000526020600020905b81548152906001019060200180831161042057829003601f168201915b5050505050905090565b600061045b61045461085d565b8484610861565b50600192915050565b60035490565b600061047784848461094d565b6104ed8461048361085d565b6104e885604051806060016040528060288152602001610ee3602891396001600160a01b038a166000908152600260205260408120906104c161085d565b6001600160a01b03168152602081019190915260400160002054919063ffffffff610aab16565b610861565b5060019392505050565b60045460ff1690565b600061045b61050d61085d565b846104e8856002600061051e61085d565b6001600160a01b03908116825260208083019390935260409182016000908120918c16815292529020549063ffffffff610b4216565b600061056761056161085d565b83610ba3565b506001919050565b6001600160a01b031660009081526001602052604090205490565b61059261085d565b6000546001600160a01b039081169116146105f4576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061064861064d565b905090565b6000546001600160a01b031690565b60058054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561043d5780601f106104125761010080835404028352916020019161043d565b60006106c761085d565b6000546001600160a01b03908116911614610729576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b61056761073461085d565b83610c9f565b600061045b61074761085d565b846104e885604051806060016040528060258152602001610f54602591396002600061077161085d565b6001600160a01b03908116825260208083019390935260409182016000908120918d1681529252902054919063ffffffff610aab16565b600061045b6107b561085d565b848461094d565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b6107ef61085d565b6000546001600160a01b03908116911614610851576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b61085a81610d91565b50565b3390565b6001600160a01b0383166108a65760405162461bcd60e51b8152600401808060200182810382526024815260200180610e996024913960400191505060405180910390fd5b6001600160a01b0382166108eb5760405162461bcd60e51b8152600401808060200182810382526022815260200180610fbc6022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b0383166109925760405162461bcd60e51b8152600401808060200182810382526025815260200180610e746025913960400191505060405180910390fd5b6001600160a01b0382166109d75760405162461bcd60e51b8152600401808060200182810382526023815260200180610f316023913960400191505060405180910390fd5b610a1a81604051806060016040528060268152602001610f0b602691396001600160a01b038616600090815260016020526040902054919063ffffffff610aab16565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610a4f908263ffffffff610b4216565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610b3a5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610aff578181015183820152602001610ae7565b50505050905090810190601f168015610b2c5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610b9c576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610be85760405162461bcd60e51b8152600401808060200182810382526021815260200180610f796021913960400191505060405180910390fd5b610c2b81604051806060016040528060228152602001610f9a602291396001600160a01b038516600090815260016020526040902054919063ffffffff610aab16565b6001600160a01b038316600090815260016020526040902055600354610c57908263ffffffff610e3116565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216610cfa576040805162461bcd60e51b815260206004820152601f60248201527f42455032303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b600354610d0d908263ffffffff610b4216565b6003556001600160a01b038216600090815260016020526040902054610d39908263ffffffff610b4216565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b038116610dd65760405162461bcd60e51b8152600401808060200182810382526026815260200180610ebd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610b9c83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610aab56fe42455032303a207472616e736665722066726f6d20746865207a65726f206164647265737342455032303a20617070726f76652066726f6d20746865207a65726f20616464726573734f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737342455032303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636542455032303a207472616e7366657220616d6f756e7420657863656564732062616c616e636542455032303a207472616e7366657220746f20746865207a65726f206164647265737342455032303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f42455032303a206275726e2066726f6d20746865207a65726f206164647265737342455032303a206275726e20616d6f756e7420657863656564732062616c616e636542455032303a20617070726f766520746f20746865207a65726f2061646472657373a265627a7a72315820e7bce8d8e127de721839835aee061e0bba55d46669a75ae982629251cbf38ef264736f6c63430005100032`

//
//  string public name = 'Wrapped Ether';
//    string public symbol = 'WETH';
//    uint8 public decimals = 18;
//
const WETH = `0x60c0604052600d60808190526c2bb930b83832b21022ba3432b960991b60a090815261002e916000919061007a565b50604080518082019091526004808252630ae8aa8960e31b602090920191825261005a9160019161007a565b506002805460ff1916601217905534801561007457600080fd5b5061014e565b82805461008690610113565b90600052602060002090601f0160209004810192826100a857600085556100ee565b82601f106100c157805160ff19168380011785556100ee565b828001600101855582156100ee579182015b828111156100ee5782518255916020019190600101906100d3565b506100fa9291506100fe565b5090565b5b808211156100fa57600081556001016100ff565b60028104600182168061012757607f821691505b6020821081141561014857634e487b7160e01b600052602260045260246000fd5b50919050565b6108058061015d6000396000f3fe6080604052600436106100a05760003560e01c8063313ce56711610064578063313ce5671461016e57806370a082311461019057806395d89b41146101b0578063a9059cbb146101c5578063d0e30db0146101e5578063dd62ed3e146101ed576100af565b806306fdde03146100b4578063095ea7b3146100df57806318160ddd1461010c57806323b872dd1461012e5780632e1a7d4d1461014e576100af565b366100af576100ad61020d565b005b600080fd5b3480156100c057600080fd5b506100c961026d565b6040516100d691906106e5565b60405180910390f35b3480156100eb57600080fd5b506100ff6100fa366004610699565b6102fb565b6040516100d691906106da565b34801561011857600080fd5b50610121610365565b6040516100d69190610738565b34801561013a57600080fd5b506100ff61014936600461065e565b610369565b34801561015a57600080fd5b506100ad6101693660046106c2565b6104eb565b34801561017a57600080fd5b5061018361059d565b6040516100d69190610741565b34801561019c57600080fd5b506101216101ab366004610612565b6105a6565b3480156101bc57600080fd5b506100c96105b8565b3480156101d157600080fd5b506100ff6101e0366004610699565b6105c5565b6100ad61020d565b3480156101f957600080fd5b5061012161020836600461062c565b6105d9565b336000908152600360205260408120805434929061022c90849061074f565b909155505060405133907fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c90610263903490610738565b60405180910390a2565b6000805461027a9061077e565b80601f01602080910402602001604051908101604052809291908181526020018280546102a69061077e565b80156102f35780601f106102c8576101008083540402835291602001916102f3565b820191906000526020600020905b8154815290600101906020018083116102d657829003601f168201915b505050505081565b3360008181526004602090815260408083206001600160a01b038716808552925280832085905551919290917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92590610354908690610738565b60405180910390a350600192915050565b4790565b6001600160a01b03831660009081526003602052604081205482111561038e57600080fd5b6001600160a01b03841633148015906103cc57506001600160a01b038416600090815260046020908152604080832033845290915290205460001914155b1561043a576001600160a01b038416600090815260046020908152604080832033845290915290205482111561040157600080fd5b6001600160a01b038416600090815260046020908152604080832033845290915281208054849290610434908490610767565b90915550505b6001600160a01b03841660009081526003602052604081208054849290610462908490610767565b90915550506001600160a01b0383166000908152600360205260408120805484929061048f90849061074f565b92505081905550826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516104d99190610738565b60405180910390a35060019392505050565b3360009081526003602052604090205481111561050757600080fd5b3360009081526003602052604081208054839290610526908490610767565b9091555050604051339082156108fc029083906000818181858888f19350505050158015610558573d6000803e3d6000fd5b50336001600160a01b03167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65826040516105929190610738565b60405180910390a250565b60025460ff1681565b60036020526000908152604090205481565b6001805461027a9061077e565b60006105d2338484610369565b9392505050565b600460209081526000928352604080842090915290825290205481565b80356001600160a01b038116811461060d57600080fd5b919050565b600060208284031215610623578081fd5b6105d2826105f6565b6000806040838503121561063e578081fd5b610647836105f6565b9150610655602084016105f6565b90509250929050565b600080600060608486031215610672578081fd5b61067b846105f6565b9250610689602085016105f6565b9150604084013590509250925092565b600080604083850312156106ab578182fd5b6106b4836105f6565b946020939093013593505050565b6000602082840312156106d3578081fd5b5035919050565b901515815260200190565b6000602080835283518082850152825b81811015610711578581018301518582016040015282016106f5565b818111156107225783604083870101525b50601f01601f1916929092016040019392505050565b90815260200190565b60ff91909116815260200190565b60008219821115610762576107626107b9565b500190565b600082821015610779576107796107b9565b500390565b60028104600182168061079257607f821691505b602082108114156107b357634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fdfea264697066735822122045bb6ed26d5cc142260811de1591649c4a1172e2d48f20610e3760e57f64d2b564736f6c63430008000033`
const WMEER = `0x60c0604052600c60808190527f57726170706564204d454552000000000000000000000000000000000000000060a090815261003e91600091906100a3565b506040805180820190915260058082527f574d4545520000000000000000000000000000000000000000000000000000006020909201918252610083916001916100a3565b506002805460ff1916601217905534801561009d57600080fd5b5061013e565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100e457805160ff1916838001178555610111565b82800160010185558215610111579182015b828111156101115782518255916020019190600101906100f6565b5061011d929150610121565b5090565b61013b91905b8082111561011d5760008155600101610127565b90565b6106728061014d6000396000f3006080604052600436106100ae5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde0381146100b8578063095ea7b31461014257806318160ddd1461017a57806323b872dd146101a15780632e1a7d4d146101cb578063313ce567146101e357806370a082311461020e57806395d89b411461022f578063a9059cbb14610244578063d0e30db0146100ae578063dd62ed3e14610268575b6100b661028f565b005b3480156100c457600080fd5b506100cd6102de565b6040805160208082528351818301528351919283929083019185019080838360005b838110156101075781810151838201526020016100ef565b50505050905090810190601f1680156101345780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561014e57600080fd5b50610166600160a060020a036004351660243561036c565b604080519115158252519081900360200190f35b34801561018657600080fd5b5061018f6103d2565b60408051918252519081900360200190f35b3480156101ad57600080fd5b50610166600160a060020a03600435811690602435166044356103d7565b3480156101d757600080fd5b506100b660043561050b565b3480156101ef57600080fd5b506101f86105a0565b6040805160ff9092168252519081900360200190f35b34801561021a57600080fd5b5061018f600160a060020a03600435166105a9565b34801561023b57600080fd5b506100cd6105bb565b34801561025057600080fd5b50610166600160a060020a0360043516602435610615565b34801561027457600080fd5b5061018f600160a060020a0360043581169060243516610629565b33600081815260036020908152604091829020805434908101909155825190815291517fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c9281900390910190a2565b6000805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156103645780601f1061033957610100808354040283529160200191610364565b820191906000526020600020905b81548152906001019060200180831161034757829003601f168201915b505050505081565b336000818152600460209081526040808320600160a060020a038716808552908352818420869055815186815291519394909390927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925928290030190a350600192915050565b303190565b600160a060020a0383166000908152600360205260408120548211156103fc57600080fd5b600160a060020a038416331480159061043a5750600160a060020a038416600090815260046020908152604080832033845290915290205460001914155b1561049a57600160a060020a038416600090815260046020908152604080832033845290915290205482111561046f57600080fd5b600160a060020a03841660009081526004602090815260408083203384529091529020805483900390555b600160a060020a03808516600081815260036020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a35060019392505050565b3360009081526003602052604090205481111561052757600080fd5b33600081815260036020526040808220805485900390555183156108fc0291849190818181858888f19350505050158015610566573d6000803e3d6000fd5b5060408051828152905133917f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65919081900360200190a250565b60025460ff1681565b60036020526000908152604090205481565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156103645780601f1061033957610100808354040283529160200191610364565b60006106223384846103d7565b9392505050565b6004602090815260009283526040808420909152908252902054815600a165627a7a723058206a97c3617336858e598cdb041876684ad3bde3912018bf004d2227ba554081bd0029`
const PAIR = `0x60806040526000196005556001600d55600e80546001600160701b0319166001600160701b0317905534801561003457600080fd5b50604080518082018252600a8152692ab734b9bbb0b8102b1960b11b6020918201528151808301835260018152603160f81b90820152905146916100e2917f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f917fbfcc8ef98ffbf7b6c3fec7bf5185b566b9863e35a9d83acd49ad6824b5969738917fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc6918691309101610115565b60408051601f19818403018152919052805160209091012060035550600680546001600160a01b03191633179055610141565b9485526020850193909352604084019190915260608301526001600160a01b0316608082015260a00190565b61239a806101506000396000f3fe608060405234801561001057600080fd5b50600436106101a95760003560e01c80636a627842116100f9578063ba9a7a5611610097578063d21220a711610071578063d21220a714610338578063d505accf14610340578063dd62ed3e14610353578063fff6cae914610366576101a9565b8063ba9a7a5614610315578063bc25cf771461031d578063c45a015514610330576101a9565b80637ecebe00116100d35780637ecebe00146102c657806389afcb44146102d957806395d89b41146102fa578063a9059cbb14610302576101a9565b80636a6278421461029857806370a08231146102ab5780637464fc3d146102be576101a9565b806323b872dd116101665780633644e515116101405780633644e5151461026d578063485cc955146102755780635909c0d5146102885780635a3d549314610290576101a9565b806323b872dd1461023d57806330adf81f14610250578063313ce56714610258576101a9565b8063022c0d9f146101ab57806306fdde03146101be5780630902f1ac146101dc578063095ea7b3146101f35780630dfe16811461021357806318160ddd14610228575b005b6101a96101b9366004611cac565b61036e565b6101c661079e565b6040516101d39190611e37565b60405180910390f35b6101e46107c4565b6040516101d3939291906121b5565b610206610201366004611c49565b6107ee565b6040516101d39190611dd1565b61021b610805565b6040516101d39190611d58565b610230610814565b6040516101d39190611ddc565b61020661024b366004611b94565b61081a565b6102306108b0565b6102606108d4565b6040516101d39190612207565b6102306108d9565b6101a9610283366004611b5c565b6108df565b610230610937565b61023061093d565b6102306102a6366004611b24565b610943565b6102306102b9366004611b24565b610bf7565b610230610c09565b6102306102d4366004611b24565b610c0f565b6102ec6102e7366004611b24565b610c21565b6040516101d39291906121de565b6101c6610f9b565b610206610310366004611c49565b610fbd565b610230610fca565b6101a961032b366004611b24565b610fd0565b61021b6110fd565b61021b61110c565b6101a961034e366004611bd4565b61111b565b610230610361366004611b5c565b611296565b6101a96112b3565b600d546001146103995760405162461bcd60e51b815260040161039090612000565b60405180910390fd5b6000600d55841515806103ac5750600084115b6103c85760405162461bcd60e51b815260040161039090612158565b6000806103d36107c4565b5091509150816001600160701b0316871080156103f85750806001600160701b031686105b6104145760405162461bcd60e51b815260040161039090611f9d565b60075460085460009182916001600160a01b039182169190811690891682148015906104525750806001600160a01b0316896001600160a01b031614155b61046e5760405162461bcd60e51b815260040161039090611ee7565b8a1561047f5761047f828a8d6113ff565b891561049057610490818a8c6113ff565b86156104fd576040516304347a1760e21b81526001600160a01b038a16906310d1e85c906104ca9033908f908f908e908e90600401611d85565b600060405180830381600087803b1580156104e457600080fd5b505af11580156104f8573d6000803e3d6000fd5b505050505b6040516370a0823160e01b81526001600160a01b038316906370a0823190610529903090600401611d58565b60206040518083038186803b15801561054157600080fd5b505afa158015610555573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105799190611c94565b6040516370a0823160e01b81529094506001600160a01b038216906370a08231906105a8903090600401611d58565b60206040518083038186803b1580156105c057600080fd5b505afa1580156105d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f89190611c94565b92505050600089856001600160701b031661061391906122b5565b831161062057600061063d565b6106338a6001600160701b0387166122b5565b61063d90846122b5565b905060006106548a6001600160701b0387166122b5565b831161066157600061067e565b6106748a6001600160701b0387166122b5565b61067e90846122b5565b9050600082118061068f5750600081115b6106ab5760405162461bcd60e51b81526004016103909061202b565b60006106cd6106bb846019611485565b6106c787612710611485565b906114c5565b905060006106df6106bb846019611485565b90506107056305f5e1006106ff6001600160701b038b8116908b16611485565b90611485565b61070f8383611485565b101561072d5760405162461bcd60e51b815260040161039090611f4b565b505061073b848488886114f3565b886001600160a01b0316336001600160a01b03167fd78ad95fa46c994b6551d0da85fc275fe613ce37657fb8d5e3d130840159d82284848f8f60405161078494939291906121ec565b60405180910390a350506001600d55505050505050505050565b6040518060400160405280600a8152602001692ab734b9bbb0b8102b1960b11b81525081565b6009546001600160701b0380821692600160701b830490911691600160e01b900463ffffffff1690565b60006107fb3384846116d1565b5060015b92915050565b6007546001600160a01b031681565b60005481565b6005546001600160a01b038416600090815260026020908152604080832033845290915281205490911461089b576001600160a01b038416600090815260026020908152604080832033845290915290205461087690836114c5565b6001600160a01b03851660009081526002602090815260408083203384529091529020555b6108a6848484611739565b5060019392505050565b7f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c981565b601281565b60035481565b6006546001600160a01b031633146109095760405162461bcd60e51b8152600401610390906120fd565b600780546001600160a01b039384166001600160a01b03199182161790915560088054929093169116179055565b600a5481565b600b5481565b6000600d546001146109675760405162461bcd60e51b815260040161039090612000565b6000600d819055806109776107c4565b506007546040516370a0823160e01b81529294509092506000916001600160a01b03909116906370a08231906109b1903090600401611d58565b60206040518083038186803b1580156109c957600080fd5b505afa1580156109dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a019190611c94565b6008546040516370a0823160e01b81529192506000916001600160a01b03909116906370a0823190610a37903090600401611d58565b60206040518083038186803b158015610a4f57600080fd5b505afa158015610a63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a879190611c94565b90506000610a9e836001600160701b0387166114c5565b90506000610ab5836001600160701b0387166114c5565b90506000610ac387876117dd565b60005490915080610afa57610ae66103e86106c7610ae18787611485565b611929565b9850610af560006103e8611999565b610b41565b610b3e6001600160701b038916610b118684611485565b610b1b9190612253565b6001600160701b038916610b2f8685611485565b610b399190612253565b611a26565b98505b60008911610b615760405162461bcd60e51b8152600401610390906120b5565b610b6b8a8a611999565b610b7786868a8a6114f3565b8115610ba157600954610b9d906001600160701b0380821691600160701b900416611485565b600c555b336001600160a01b03167f4c209b5fc8ad50758f13e2e1088ba56a560dff690a1c6fef26394f4c03821c4f8585604051610bdc9291906121de565b60405180910390a250506001600d5550949695505050505050565b60016020526000908152604090205481565b600c5481565b60046020526000908152604090205481565b600080600d54600114610c465760405162461bcd60e51b815260040161039090612000565b6000600d81905580610c566107c4565b506007546008546040516370a0823160e01b81529395509193506001600160a01b039081169291169060009083906370a0823190610c98903090600401611d58565b60206040518083038186803b158015610cb057600080fd5b505afa158015610cc4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ce89190611c94565b90506000826001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610d189190611d58565b60206040518083038186803b158015610d3057600080fd5b505afa158015610d44573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d689190611c94565b30600090815260016020526040812054919250610d8588886117dd565b60005490915080610d968487611485565b610da09190612253565b9a5080610dad8486611485565b610db79190612253565b995060008b118015610dc9575060008a115b610de55760405162461bcd60e51b81526004016103909061206d565b610def3084611a3e565b610dfa878d8d6113ff565b610e05868d8c6113ff565b6040516370a0823160e01b81526001600160a01b038816906370a0823190610e31903090600401611d58565b60206040518083038186803b158015610e4957600080fd5b505afa158015610e5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e819190611c94565b6040516370a0823160e01b81529095506001600160a01b038716906370a0823190610eb0903090600401611d58565b60206040518083038186803b158015610ec857600080fd5b505afa158015610edc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f009190611c94565b9350610f0e85858b8b6114f3565b8115610f3857600954610f34906001600160701b0380821691600160701b900416611485565b600c555b8b6001600160a01b0316336001600160a01b03167fdccd412f0b1252819cb1fd330b93224ca42612892bb3f4f789976e6d819364968d8d604051610f7d9291906121de565b60405180910390a35050505050505050506001600d81905550915091565b604051806040016040528060068152602001652aa72496ab1960d11b81525081565b60006107fb338484611739565b6103e881565b600d54600114610ff25760405162461bcd60e51b815260040161039090612000565b6000600d556007546008546009546040516370a0823160e01b81526001600160a01b0393841693909216916110a0918491869161109b916001600160701b039091169084906370a082319061104b903090600401611d58565b60206040518083038186803b15801561106357600080fd5b505afa158015611077573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106c79190611c94565b6113ff565b6110f3818461109b6009600e9054906101000a90046001600160701b03166001600160701b0316856001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161104b9190611d58565b50506001600d5550565b6006546001600160a01b031681565b6008546001600160a01b031681565b4284101561113b5760405162461bcd60e51b815260040161039090611fd4565b6003546001600160a01b038816600090815260046020526040812080549192917f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9918b918b918b91908761118e836122f1565b919050558a6040516020016111a896959493929190611de5565b604051602081830303815290604052805190602001206040516020016111cf929190611d3d565b60405160208183030381529060405280519060200120905060006001828686866040516000815260200160405260405161120c9493929190611e19565b6020604051602081039080840390855afa15801561122e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116158015906112645750886001600160a01b0316816001600160a01b0316145b6112805760405162461bcd60e51b815260040161039090611f14565b61128b8989896116d1565b505050505050505050565b600260209081526000928352604080842090915290825290205481565b600d546001146112d55760405162461bcd60e51b815260040161039090612000565b6000600d556007546040516370a0823160e01b81526113f8916001600160a01b0316906370a082319061130c903090600401611d58565b60206040518083038186803b15801561132457600080fd5b505afa158015611338573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061135c9190611c94565b6008546040516370a0823160e01b81526001600160a01b03909116906370a082319061138c903090600401611d58565b60206040518083038186803b1580156113a457600080fd5b505afa1580156113b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113dc9190611c94565b6009546001600160701b0380821691600160701b9004166114f3565b6001600d55565b60405163a9059cbb60e01b81526001600160a01b0384169063a9059cbb9061142d9085908590600401611d6c565b602060405180830381600087803b15801561144757600080fd5b505af115801561145b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061147f9190611c74565b50505050565b60008115806114a95750828261149b8183612296565b92506114a79083612253565b145b6107ff5760405162461bcd60e51b815260040161039090611eb9565b6000826114d283826122b5565b91508111156107ff5760405162461bcd60e51b815260040161039090611e8a565b600e546001600160701b031684118015906115195750600e546001600160701b03168311155b6115355760405162461bcd60e51b81526004016103909061212b565b60006115466401000000004261230c565b60095490915060009061156690600160e01b900463ffffffff16836122cc565b905060008163ffffffff1611801561158657506001600160701b03841615155b801561159a57506001600160701b03831615155b15611629578063ffffffff166115c2856115b386611ac8565b6001600160e01b031690611ae1565b6001600160e01b03166115d59190612296565b600a60008282546115e69190612215565b909155505063ffffffff81166115ff846115b387611ac8565b6001600160e01b03166116129190612296565b600b60008282546116239190612215565b90915550505b600980546dffffffffffffffffffffffffffff19166001600160701b03888116919091176dffffffffffffffffffffffffffff60701b1916600160701b8883168102919091176001600160e01b0316600160e01b63ffffffff87160217928390556040517f1c411e9a96e071241c2f21f7726b17ae89e3cab4c78be50e062b03a9fffbbad1936116c19381811693909104169061219b565b60405180910390a1505050505050565b6001600160a01b0380841660008181526002602090815260408083209487168084529490915290819020849055517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259061172c908590611ddc565b60405180910390a3505050565b6001600160a01b03831660009081526001602052604090205461175c90826114c5565b6001600160a01b03808516600090815260016020526040808220939093559084168152205461178b9082611af6565b6001600160a01b0380841660008181526001602052604090819020939093559151908516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9061172c908590611ddc565b600080600660009054906101000a90046001600160a01b03166001600160a01b031663017e7e586040518163ffffffff1660e01b815260040160206040518083038186803b15801561182e57600080fd5b505afa158015611842573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118669190611b40565b600c546001600160a01b0382161580159450919250906119155780156119105760006118a1610ae16001600160701b03888116908816611485565b905060006118ae83611929565b90508082111561190d5760006118d06118c784846114c5565b60005490611485565b905060006118e9836118e3866005611485565b90611af6565b905060006118f78284612253565b90508015611909576119098782611999565b5050505b50505b611921565b8015611921576000600c555b505092915050565b6000600382111561198a5750806000611943600283612253565b61194e906001612215565b90505b81811015611984579050806002816119698186612253565b6119739190612215565b61197d9190612253565b9050611951565b50611994565b8115611994575060015b919050565b6000546119a69082611af6565b60009081556001600160a01b0383168152600160205260409020546119cb9082611af6565b6001600160a01b0383166000818152600160205260408082209390935591519091907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90611a1a908590611ddc565b60405180910390a35050565b6000818310611a355781611a37565b825b9392505050565b6001600160a01b038216600090815260016020526040902054611a6190826114c5565b6001600160a01b03831660009081526001602052604081209190915554611a8890826114c5565b60009081556040516001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90611a1a908590611ddc565b60006107ff600160701b6001600160701b038416612267565b6000611a376001600160701b0383168461222d565b600082611b038382612215565b91508110156107ff5760405162461bcd60e51b815260040161039090611f6f565b600060208284031215611b35578081fd5b8135611a378161234c565b600060208284031215611b51578081fd5b8151611a378161234c565b60008060408385031215611b6e578081fd5b8235611b798161234c565b91506020830135611b898161234c565b809150509250929050565b600080600060608486031215611ba8578081fd5b8335611bb38161234c565b92506020840135611bc38161234c565b929592945050506040919091013590565b600080600080600080600060e0888a031215611bee578283fd5b8735611bf98161234c565b96506020880135611c098161234c565b95506040880135945060608801359350608088013560ff81168114611c2c578384fd5b9699959850939692959460a0840135945060c09093013592915050565b60008060408385031215611c5b578182fd5b8235611c668161234c565b946020939093013593505050565b600060208284031215611c85578081fd5b81518015158114611a37578182fd5b600060208284031215611ca5578081fd5b5051919050565b600080600080600060808688031215611cc3578081fd5b85359450602086013593506040860135611cdc8161234c565b9250606086013567ffffffffffffffff80821115611cf8578283fd5b818801915088601f830112611d0b578283fd5b813581811115611d19578384fd5b896020828501011115611d2a578384fd5b9699959850939650602001949392505050565b61190160f01b81526002810192909252602282015260420190565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b600060018060a01b038716825285602083015284604083015260806060830152826080830152828460a084013781830160a090810191909152601f909201601f19160101949350505050565b901515815260200190565b90815260200190565b9586526001600160a01b0394851660208701529290931660408501526060840152608083019190915260a082015260c00190565b93845260ff9290921660208401526040830152606082015260800190565b6000602080835283518082850152825b81811015611e6357858101830151858201604001528201611e47565b81811115611e745783604083870101525b50601f01601f1916929092016040019392505050565b60208082526015908201527464732d6d6174682d7375622d756e646572666c6f7760581b604082015260600190565b60208082526014908201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604082015260600190565b60208082526013908201527250616e63616b653a20494e56414c49445f544f60681b604082015260600190565b6020808252601c908201527f556e697377617056323a20494e56414c49445f5349474e415455524500000000604082015260600190565b6020808252600a908201526950616e63616b653a204b60b01b604082015260600190565b60208082526014908201527364732d6d6174682d6164642d6f766572666c6f7760601b604082015260600190565b6020808252601f908201527f50616e63616b653a20494e53554646494349454e545f4c495155494449545900604082015260600190565b602080825260129082015271155b9a5cddd85c158c8e881156141254915160721b604082015260600190565b602080825260119082015270155b9a5cddd85c158c8e881313d0d2d151607a1b604082015260600190565b60208082526022908201527f50616e63616b653a20494e53554646494349454e545f494e5055545f414d4f55604082015261139560f21b606082015260800190565b60208082526028908201527f556e697377617056323a20494e53554646494349454e545f4c495155494449546040820152671657d0955493915160c21b606082015260800190565b60208082526028908201527f556e697377617056323a20494e53554646494349454e545f4c495155494449546040820152671657d3525395115160c21b606082015260800190565b6020808252601490820152732ab734b9bbb0b82b191d102327a92124a22222a760611b604082015260600190565b602080825260139082015272556e697377617056323a204f564552464c4f5760681b604082015260600190565b60208082526023908201527f50616e63616b653a20494e53554646494349454e545f4f55545055545f414d4f60408201526215539560ea1b606082015260800190565b6001600160701b0392831681529116602082015260400190565b6001600160701b03938416815291909216602082015263ffffffff909116604082015260600190565b918252602082015260400190565b93845260208401929092526040830152606082015260800190565b60ff91909116815260200190565b6000821982111561222857612228612320565b500190565b60006001600160e01b038381168061224757612247612336565b92169190910492915050565b60008261226257612262612336565b500490565b60006001600160e01b038281168482168115158284048211161561228d5761228d612320565b02949350505050565b60008160001904831182151516156122b0576122b0612320565b500290565b6000828210156122c7576122c7612320565b500390565b600063ffffffff838116908316818110156122e9576122e9612320565b039392505050565b600060001982141561230557612305612320565b5060010190565b60008261231b5761231b612336565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b6001600160a01b038116811461236157600080fd5b5056fea26469706673582212200cb85353a5837624decc1143d94b85c491326a7592c4539ca9a65924649ae94b64736f6c63430008000033`

//     feeToSetter = address(0);
const FACTORY = `0x608060405234801561001057600080fd5b50600180546001600160a01b0319169055612b97806100306000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063a2e74af61161005b578063a2e74af6146100db578063c9c65396146100f0578063e6a4390514610103578063f46901ed1461011657610088565b8063017e7e581461008d578063094b7415146100ab5780631e3dd18b146100b3578063574f2ba3146100c6575b600080fd5b610095610129565b6040516100a2919061055b565b60405180910390f35b610095610138565b6100956100c136600461051c565b610147565b6100ce610171565b6040516100a2919061066e565b6100ee6100e93660046104c9565b610177565b005b6100956100fe3660046104ea565b6101cc565b6100956101113660046104ea565b61042e565b6100ee6101243660046104c9565b610454565b6000546001600160a01b031681565b6001546001600160a01b031681565b6003818154811061015757600080fd5b6000918252602090912001546001600160a01b0316905081565b60035490565b6001546001600160a01b031633146101aa5760405162461bcd60e51b81526004016101a1906105d9565b60405180910390fd5b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6000816001600160a01b0316836001600160a01b031614156102005760405162461bcd60e51b81526004016101a1906105a2565b600080836001600160a01b0316856001600160a01b031610610223578385610226565b84845b90925090506001600160a01b0382166102515760405162461bcd60e51b81526004016101a190610637565b6001600160a01b038281166000908152600260209081526040808320858516845290915290205416156102965760405162461bcd60e51b81526004016101a190610607565b6000604051806020016102a8906104a0565b6020820181038252601f19601f820116604052509050600083836040516020016102d3929190610534565b604051602081830303815290604052805190602001209050808251602084016000f560405163485cc95560e01b81529095506001600160a01b0386169063485cc95590610326908790879060040161056f565b600060405180830381600087803b15801561034057600080fd5b505af1158015610354573d6000803e3d6000fd5b505050506001600160a01b0384811660008181526002602081815260408084208987168086529083528185208054978d166001600160a01b03199889168117909155938352818520868652909252808420805487168417905560038054600181018255948190527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b9094018054909616909217909455905490517f0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e99161041c918a9190610589565b60405180910390a35050505092915050565b60026020908152600092835260408084209091529082529020546001600160a01b031681565b6001546001600160a01b0316331461047e5760405162461bcd60e51b81526004016101a1906105d9565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6124ea8061067883390190565b80356001600160a01b03811681146104c457600080fd5b919050565b6000602082840312156104da578081fd5b6104e3826104ad565b9392505050565b600080604083850312156104fc578081fd5b610505836104ad565b9150610513602084016104ad565b90509250929050565b60006020828403121561052d578081fd5b5035919050565b6bffffffffffffffffffffffff19606093841b811682529190921b16601482015260280190565b6001600160a01b0391909116815260200190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b03929092168252602082015260400190565b6020808252601e908201527f556e697377617056323a204944454e544943414c5f4144445245535345530000604082015260600190565b6020808252601490820152732ab734b9bbb0b82b191d102327a92124a22222a760611b604082015260600190565b602080825260169082015275556e697377617056323a20504149525f45584953545360501b604082015260600190565b60208082526017908201527f556e697377617056323a205a45524f5f41444452455353000000000000000000604082015260600190565b9081526020019056fe60806040526000196005556001600d55600e80546001600160701b0319166001600160701b0317905534801561003457600080fd5b50604080518082018252600a8152692ab734b9bbb0b8102b1960b11b6020918201528151808301835260018152603160f81b90820152905146916100e2917f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f917fbfcc8ef98ffbf7b6c3fec7bf5185b566b9863e35a9d83acd49ad6824b5969738917fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc6918691309101610115565b60408051601f19818403018152919052805160209091012060035550600680546001600160a01b03191633179055610141565b9485526020850193909352604084019190915260608301526001600160a01b0316608082015260a00190565b61239a806101506000396000f3fe608060405234801561001057600080fd5b50600436106101a95760003560e01c80636a627842116100f9578063ba9a7a5611610097578063d21220a711610071578063d21220a714610338578063d505accf14610340578063dd62ed3e14610353578063fff6cae914610366576101a9565b8063ba9a7a5614610315578063bc25cf771461031d578063c45a015514610330576101a9565b80637ecebe00116100d35780637ecebe00146102c657806389afcb44146102d957806395d89b41146102fa578063a9059cbb14610302576101a9565b80636a6278421461029857806370a08231146102ab5780637464fc3d146102be576101a9565b806323b872dd116101665780633644e515116101405780633644e5151461026d578063485cc955146102755780635909c0d5146102885780635a3d549314610290576101a9565b806323b872dd1461023d57806330adf81f14610250578063313ce56714610258576101a9565b8063022c0d9f146101ab57806306fdde03146101be5780630902f1ac146101dc578063095ea7b3146101f35780630dfe16811461021357806318160ddd14610228575b005b6101a96101b9366004611cac565b61036e565b6101c661079e565b6040516101d39190611e37565b60405180910390f35b6101e46107c4565b6040516101d3939291906121b5565b610206610201366004611c49565b6107ee565b6040516101d39190611dd1565b61021b610805565b6040516101d39190611d58565b610230610814565b6040516101d39190611ddc565b61020661024b366004611b94565b61081a565b6102306108b0565b6102606108d4565b6040516101d39190612207565b6102306108d9565b6101a9610283366004611b5c565b6108df565b610230610937565b61023061093d565b6102306102a6366004611b24565b610943565b6102306102b9366004611b24565b610bf7565b610230610c09565b6102306102d4366004611b24565b610c0f565b6102ec6102e7366004611b24565b610c21565b6040516101d39291906121de565b6101c6610f9b565b610206610310366004611c49565b610fbd565b610230610fca565b6101a961032b366004611b24565b610fd0565b61021b6110fd565b61021b61110c565b6101a961034e366004611bd4565b61111b565b610230610361366004611b5c565b611296565b6101a96112b3565b600d546001146103995760405162461bcd60e51b815260040161039090612000565b60405180910390fd5b6000600d55841515806103ac5750600084115b6103c85760405162461bcd60e51b815260040161039090612158565b6000806103d36107c4565b5091509150816001600160701b0316871080156103f85750806001600160701b031686105b6104145760405162461bcd60e51b815260040161039090611f9d565b60075460085460009182916001600160a01b039182169190811690891682148015906104525750806001600160a01b0316896001600160a01b031614155b61046e5760405162461bcd60e51b815260040161039090611ee7565b8a1561047f5761047f828a8d6113ff565b891561049057610490818a8c6113ff565b86156104fd576040516304347a1760e21b81526001600160a01b038a16906310d1e85c906104ca9033908f908f908e908e90600401611d85565b600060405180830381600087803b1580156104e457600080fd5b505af11580156104f8573d6000803e3d6000fd5b505050505b6040516370a0823160e01b81526001600160a01b038316906370a0823190610529903090600401611d58565b60206040518083038186803b15801561054157600080fd5b505afa158015610555573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105799190611c94565b6040516370a0823160e01b81529094506001600160a01b038216906370a08231906105a8903090600401611d58565b60206040518083038186803b1580156105c057600080fd5b505afa1580156105d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f89190611c94565b92505050600089856001600160701b031661061391906122b5565b831161062057600061063d565b6106338a6001600160701b0387166122b5565b61063d90846122b5565b905060006106548a6001600160701b0387166122b5565b831161066157600061067e565b6106748a6001600160701b0387166122b5565b61067e90846122b5565b9050600082118061068f5750600081115b6106ab5760405162461bcd60e51b81526004016103909061202b565b60006106cd6106bb846019611485565b6106c787612710611485565b906114c5565b905060006106df6106bb846019611485565b90506107056305f5e1006106ff6001600160701b038b8116908b16611485565b90611485565b61070f8383611485565b101561072d5760405162461bcd60e51b815260040161039090611f4b565b505061073b848488886114f3565b886001600160a01b0316336001600160a01b03167fd78ad95fa46c994b6551d0da85fc275fe613ce37657fb8d5e3d130840159d82284848f8f60405161078494939291906121ec565b60405180910390a350506001600d55505050505050505050565b6040518060400160405280600a8152602001692ab734b9bbb0b8102b1960b11b81525081565b6009546001600160701b0380821692600160701b830490911691600160e01b900463ffffffff1690565b60006107fb3384846116d1565b5060015b92915050565b6007546001600160a01b031681565b60005481565b6005546001600160a01b038416600090815260026020908152604080832033845290915281205490911461089b576001600160a01b038416600090815260026020908152604080832033845290915290205461087690836114c5565b6001600160a01b03851660009081526002602090815260408083203384529091529020555b6108a6848484611739565b5060019392505050565b7f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c981565b601281565b60035481565b6006546001600160a01b031633146109095760405162461bcd60e51b8152600401610390906120fd565b600780546001600160a01b039384166001600160a01b03199182161790915560088054929093169116179055565b600a5481565b600b5481565b6000600d546001146109675760405162461bcd60e51b815260040161039090612000565b6000600d819055806109776107c4565b506007546040516370a0823160e01b81529294509092506000916001600160a01b03909116906370a08231906109b1903090600401611d58565b60206040518083038186803b1580156109c957600080fd5b505afa1580156109dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a019190611c94565b6008546040516370a0823160e01b81529192506000916001600160a01b03909116906370a0823190610a37903090600401611d58565b60206040518083038186803b158015610a4f57600080fd5b505afa158015610a63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a879190611c94565b90506000610a9e836001600160701b0387166114c5565b90506000610ab5836001600160701b0387166114c5565b90506000610ac387876117dd565b60005490915080610afa57610ae66103e86106c7610ae18787611485565b611929565b9850610af560006103e8611999565b610b41565b610b3e6001600160701b038916610b118684611485565b610b1b9190612253565b6001600160701b038916610b2f8685611485565b610b399190612253565b611a26565b98505b60008911610b615760405162461bcd60e51b8152600401610390906120b5565b610b6b8a8a611999565b610b7786868a8a6114f3565b8115610ba157600954610b9d906001600160701b0380821691600160701b900416611485565b600c555b336001600160a01b03167f4c209b5fc8ad50758f13e2e1088ba56a560dff690a1c6fef26394f4c03821c4f8585604051610bdc9291906121de565b60405180910390a250506001600d5550949695505050505050565b60016020526000908152604090205481565b600c5481565b60046020526000908152604090205481565b600080600d54600114610c465760405162461bcd60e51b815260040161039090612000565b6000600d81905580610c566107c4565b506007546008546040516370a0823160e01b81529395509193506001600160a01b039081169291169060009083906370a0823190610c98903090600401611d58565b60206040518083038186803b158015610cb057600080fd5b505afa158015610cc4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ce89190611c94565b90506000826001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610d189190611d58565b60206040518083038186803b158015610d3057600080fd5b505afa158015610d44573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d689190611c94565b30600090815260016020526040812054919250610d8588886117dd565b60005490915080610d968487611485565b610da09190612253565b9a5080610dad8486611485565b610db79190612253565b995060008b118015610dc9575060008a115b610de55760405162461bcd60e51b81526004016103909061206d565b610def3084611a3e565b610dfa878d8d6113ff565b610e05868d8c6113ff565b6040516370a0823160e01b81526001600160a01b038816906370a0823190610e31903090600401611d58565b60206040518083038186803b158015610e4957600080fd5b505afa158015610e5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e819190611c94565b6040516370a0823160e01b81529095506001600160a01b038716906370a0823190610eb0903090600401611d58565b60206040518083038186803b158015610ec857600080fd5b505afa158015610edc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f009190611c94565b9350610f0e85858b8b6114f3565b8115610f3857600954610f34906001600160701b0380821691600160701b900416611485565b600c555b8b6001600160a01b0316336001600160a01b03167fdccd412f0b1252819cb1fd330b93224ca42612892bb3f4f789976e6d819364968d8d604051610f7d9291906121de565b60405180910390a35050505050505050506001600d81905550915091565b604051806040016040528060068152602001652aa72496ab1960d11b81525081565b60006107fb338484611739565b6103e881565b600d54600114610ff25760405162461bcd60e51b815260040161039090612000565b6000600d556007546008546009546040516370a0823160e01b81526001600160a01b0393841693909216916110a0918491869161109b916001600160701b039091169084906370a082319061104b903090600401611d58565b60206040518083038186803b15801561106357600080fd5b505afa158015611077573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106c79190611c94565b6113ff565b6110f3818461109b6009600e9054906101000a90046001600160701b03166001600160701b0316856001600160a01b03166370a08231306040518263ffffffff1660e01b815260040161104b9190611d58565b50506001600d5550565b6006546001600160a01b031681565b6008546001600160a01b031681565b4284101561113b5760405162461bcd60e51b815260040161039090611fd4565b6003546001600160a01b038816600090815260046020526040812080549192917f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9918b918b918b91908761118e836122f1565b919050558a6040516020016111a896959493929190611de5565b604051602081830303815290604052805190602001206040516020016111cf929190611d3d565b60405160208183030381529060405280519060200120905060006001828686866040516000815260200160405260405161120c9493929190611e19565b6020604051602081039080840390855afa15801561122e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116158015906112645750886001600160a01b0316816001600160a01b0316145b6112805760405162461bcd60e51b815260040161039090611f14565b61128b8989896116d1565b505050505050505050565b600260209081526000928352604080842090915290825290205481565b600d546001146112d55760405162461bcd60e51b815260040161039090612000565b6000600d556007546040516370a0823160e01b81526113f8916001600160a01b0316906370a082319061130c903090600401611d58565b60206040518083038186803b15801561132457600080fd5b505afa158015611338573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061135c9190611c94565b6008546040516370a0823160e01b81526001600160a01b03909116906370a082319061138c903090600401611d58565b60206040518083038186803b1580156113a457600080fd5b505afa1580156113b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113dc9190611c94565b6009546001600160701b0380821691600160701b9004166114f3565b6001600d55565b60405163a9059cbb60e01b81526001600160a01b0384169063a9059cbb9061142d9085908590600401611d6c565b602060405180830381600087803b15801561144757600080fd5b505af115801561145b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061147f9190611c74565b50505050565b60008115806114a95750828261149b8183612296565b92506114a79083612253565b145b6107ff5760405162461bcd60e51b815260040161039090611eb9565b6000826114d283826122b5565b91508111156107ff5760405162461bcd60e51b815260040161039090611e8a565b600e546001600160701b031684118015906115195750600e546001600160701b03168311155b6115355760405162461bcd60e51b81526004016103909061212b565b60006115466401000000004261230c565b60095490915060009061156690600160e01b900463ffffffff16836122cc565b905060008163ffffffff1611801561158657506001600160701b03841615155b801561159a57506001600160701b03831615155b15611629578063ffffffff166115c2856115b386611ac8565b6001600160e01b031690611ae1565b6001600160e01b03166115d59190612296565b600a60008282546115e69190612215565b909155505063ffffffff81166115ff846115b387611ac8565b6001600160e01b03166116129190612296565b600b60008282546116239190612215565b90915550505b600980546dffffffffffffffffffffffffffff19166001600160701b03888116919091176dffffffffffffffffffffffffffff60701b1916600160701b8883168102919091176001600160e01b0316600160e01b63ffffffff87160217928390556040517f1c411e9a96e071241c2f21f7726b17ae89e3cab4c78be50e062b03a9fffbbad1936116c19381811693909104169061219b565b60405180910390a1505050505050565b6001600160a01b0380841660008181526002602090815260408083209487168084529490915290819020849055517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259061172c908590611ddc565b60405180910390a3505050565b6001600160a01b03831660009081526001602052604090205461175c90826114c5565b6001600160a01b03808516600090815260016020526040808220939093559084168152205461178b9082611af6565b6001600160a01b0380841660008181526001602052604090819020939093559151908516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9061172c908590611ddc565b600080600660009054906101000a90046001600160a01b03166001600160a01b031663017e7e586040518163ffffffff1660e01b815260040160206040518083038186803b15801561182e57600080fd5b505afa158015611842573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118669190611b40565b600c546001600160a01b0382161580159450919250906119155780156119105760006118a1610ae16001600160701b03888116908816611485565b905060006118ae83611929565b90508082111561190d5760006118d06118c784846114c5565b60005490611485565b905060006118e9836118e3866005611485565b90611af6565b905060006118f78284612253565b90508015611909576119098782611999565b5050505b50505b611921565b8015611921576000600c555b505092915050565b6000600382111561198a5750806000611943600283612253565b61194e906001612215565b90505b81811015611984579050806002816119698186612253565b6119739190612215565b61197d9190612253565b9050611951565b50611994565b8115611994575060015b919050565b6000546119a69082611af6565b60009081556001600160a01b0383168152600160205260409020546119cb9082611af6565b6001600160a01b0383166000818152600160205260408082209390935591519091907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90611a1a908590611ddc565b60405180910390a35050565b6000818310611a355781611a37565b825b9392505050565b6001600160a01b038216600090815260016020526040902054611a6190826114c5565b6001600160a01b03831660009081526001602052604081209190915554611a8890826114c5565b60009081556040516001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90611a1a908590611ddc565b60006107ff600160701b6001600160701b038416612267565b6000611a376001600160701b0383168461222d565b600082611b038382612215565b91508110156107ff5760405162461bcd60e51b815260040161039090611f6f565b600060208284031215611b35578081fd5b8135611a378161234c565b600060208284031215611b51578081fd5b8151611a378161234c565b60008060408385031215611b6e578081fd5b8235611b798161234c565b91506020830135611b898161234c565b809150509250929050565b600080600060608486031215611ba8578081fd5b8335611bb38161234c565b92506020840135611bc38161234c565b929592945050506040919091013590565b600080600080600080600060e0888a031215611bee578283fd5b8735611bf98161234c565b96506020880135611c098161234c565b95506040880135945060608801359350608088013560ff81168114611c2c578384fd5b9699959850939692959460a0840135945060c09093013592915050565b60008060408385031215611c5b578182fd5b8235611c668161234c565b946020939093013593505050565b600060208284031215611c85578081fd5b81518015158114611a37578182fd5b600060208284031215611ca5578081fd5b5051919050565b600080600080600060808688031215611cc3578081fd5b85359450602086013593506040860135611cdc8161234c565b9250606086013567ffffffffffffffff80821115611cf8578283fd5b818801915088601f830112611d0b578283fd5b813581811115611d19578384fd5b896020828501011115611d2a578384fd5b9699959850939650602001949392505050565b61190160f01b81526002810192909252602282015260420190565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b600060018060a01b038716825285602083015284604083015260806060830152826080830152828460a084013781830160a090810191909152601f909201601f19160101949350505050565b901515815260200190565b90815260200190565b9586526001600160a01b0394851660208701529290931660408501526060840152608083019190915260a082015260c00190565b93845260ff9290921660208401526040830152606082015260800190565b6000602080835283518082850152825b81811015611e6357858101830151858201604001528201611e47565b81811115611e745783604083870101525b50601f01601f1916929092016040019392505050565b60208082526015908201527464732d6d6174682d7375622d756e646572666c6f7760581b604082015260600190565b60208082526014908201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604082015260600190565b60208082526013908201527250616e63616b653a20494e56414c49445f544f60681b604082015260600190565b6020808252601c908201527f556e697377617056323a20494e56414c49445f5349474e415455524500000000604082015260600190565b6020808252600a908201526950616e63616b653a204b60b01b604082015260600190565b60208082526014908201527364732d6d6174682d6164642d6f766572666c6f7760601b604082015260600190565b6020808252601f908201527f50616e63616b653a20494e53554646494349454e545f4c495155494449545900604082015260600190565b602080825260129082015271155b9a5cddd85c158c8e881156141254915160721b604082015260600190565b602080825260119082015270155b9a5cddd85c158c8e881313d0d2d151607a1b604082015260600190565b60208082526022908201527f50616e63616b653a20494e53554646494349454e545f494e5055545f414d4f55604082015261139560f21b606082015260800190565b60208082526028908201527f556e697377617056323a20494e53554646494349454e545f4c495155494449546040820152671657d0955493915160c21b606082015260800190565b60208082526028908201527f556e697377617056323a20494e53554646494349454e545f4c495155494449546040820152671657d3525395115160c21b606082015260800190565b6020808252601490820152732ab734b9bbb0b82b191d102327a92124a22222a760611b604082015260600190565b602080825260139082015272556e697377617056323a204f564552464c4f5760681b604082015260600190565b60208082526023908201527f50616e63616b653a20494e53554646494349454e545f4f55545055545f414d4f60408201526215539560ea1b606082015260800190565b6001600160701b0392831681529116602082015260400190565b6001600160701b03938416815291909216602082015263ffffffff909116604082015260600190565b918252602082015260400190565b93845260208401929092526040830152606082015260800190565b60ff91909116815260200190565b6000821982111561222857612228612320565b500190565b60006001600160e01b038381168061224757612247612336565b92169190910492915050565b60008261226257612262612336565b500490565b60006001600160e01b038281168482168115158284048211161561228d5761228d612320565b02949350505050565b60008160001904831182151516156122b0576122b0612320565b500290565b6000828210156122c7576122c7612320565b500390565b600063ffffffff838116908316818110156122e9576122e9612320565b039392505050565b600060001982141561230557612305612320565b5060010190565b60008261231b5761231b612336565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b6001600160a01b038116811461236157600080fd5b5056fea26469706673582212200cb85353a5837624decc1143d94b85c491326a7592c4539ca9a65924649ae94b64736f6c63430008000033a2646970667358221220833b89cca701b4461b55c0b766afb4c53fa8d85fb8d942919ced155fbd77cc3964736f6c63430008000033`

const ROUTER = `0x6080604052600160ff1b60025534801561001857600080fd5b50600080546001600160a01b031990811690915560018054909116905561402f806100446000396000f3fe6080604052600436106101855760003560e01c806385f8c259116100d1578063baa2abde1161008a578063ded9382a11610064578063ded9382a14610487578063e8e33700146104a7578063f305d719146104d6578063fb3bdb41146104e9576101b4565b8063baa2abde14610432578063c45a015514610452578063d06ca61f14610467576101b4565b806385f8c2591461037d5780638803dbee1461039d578063ad5c4648146103bd578063ad615dec146103df578063af2979eb146103ff578063b6f9de951461041f576101b4565b80634a25d94a1161013e5780635bb47808116101185780635bb478081461030a5780635c11d7951461032a578063791ac9471461034a5780637ff36ab51461036a576101b4565b80634a25d94a146102aa5780635b0d5984146102ca5780635b769f3c146102ea576101b4565b806302751cec146101b9578063054d50d4146101f057806318cbafe51461021d5780631f00ca741461024a5780632195995c1461026a57806338ed17391461028a576101b4565b366101b4576001546001600160a01b031633146101b257634e487b7160e01b600052600160045260246000fd5b005b600080fd5b3480156101c557600080fd5b506101d96101d4366004613555565b6104fc565b6040516101e7929190613e47565b60405180910390f35b3480156101fc57600080fd5b5061021061020b36600461388f565b6105cd565b6040516101e79190613e3e565b34801561022957600080fd5b5061023d61023836600461381e565b6105e2565b6040516101e79190613982565b34801561025657600080fd5b5061023d61026536600461372e565b610922565b34801561027657600080fd5b506101d9610285366004613431565b610945565b34801561029657600080fd5b5061023d6102a536600461381e565b610a0a565b3480156102b657600080fd5b5061023d6102c536600461381e565b610b30565b3480156102d657600080fd5b506102106102e53660046135b2565b610c5b565b3480156102f657600080fd5b506101b2610305366004613381565b610d1b565b34801561031657600080fd5b506101b2610325366004613381565b610d3d565b34801561033657600080fd5b506101b261034536600461381e565b610d5f565b34801561035657600080fd5b506101b261036536600461381e565b611011565b61023d6103783660046136c9565b611217565b34801561038957600080fd5b5061021061039836600461388f565b6114fd565b3480156103a957600080fd5b5061023d6103b836600461381e565b61150a565b3480156103c957600080fd5b506103d26115c1565b6040516101e791906138d6565b3480156103eb57600080fd5b506102106103fa36600461388f565b6115d0565b34801561040b57600080fd5b5061021061041a366004613555565b6115dd565b6101b261042d3660046136c9565b611715565b34801561043e57600080fd5b506101d961044d3660046133c0565b611a32565b34801561045e57600080fd5b506103d2611c00565b34801561047357600080fd5b5061023d61048236600461372e565b611c0f565b34801561049357600080fd5b506101d96104a23660046135b2565b611c29565b3480156104b357600080fd5b506104c76104c23660046134da565b611d04565b6040516101e793929190613ea5565b6104c76104e4366004613555565b611e01565b61023d6104f73660046136c9565b612026565b60008082428110156105295760405162461bcd60e51b8152600401610520906139f5565b60405180910390fd5b600154610545908a906001600160a01b03168a8a8a308a611a32565b909350915061055589868561235e565b600154604051632e1a7d4d60e01b81526001600160a01b0390911690632e1a7d4d90610585908590600401613e3e565b600060405180830381600087803b15801561059f57600080fd5b505af11580156105b3573d6000803e3d6000fd5b505050506105c185836123e4565b50965096945050505050565b60006105da848484612476565b949350505050565b606081428110156106055760405162461bcd60e51b8152600401610520906139f5565b600180546001600160a01b031690879087906106219082613f12565b81811061063e57634e487b7160e01b600052603260045260246000fd5b90506020020160208101906106539190613381565b6001600160a01b0316146106795760405162461bcd60e51b815260040161052090613b77565b60005460408051602080890282810182019093528882526106c3936001600160a01b0316928c92918b918b9182919085019084908082843760009201919091525061251092505050565b91508682600184516106d59190613f12565b815181106106f357634e487b7160e01b600052603260045260246000fd5b602002602001015110156107195760405162461bcd60e51b815260040161052090613da8565b6108038686600081811061073d57634e487b7160e01b600052603260045260246000fd5b90506020020160208101906107529190613381565b6000805433916107d5916001600160a01b0316908b908b908161078557634e487b7160e01b600052603260045260246000fd5b905060200201602081019061079a9190613381565b8b8b60018181106107bb57634e487b7160e01b600052603260045260246000fd5b90506020020160208101906107d09190613381565b6126bf565b856000815181106107f657634e487b7160e01b600052603260045260246000fd5b6020026020010151612740565b610842828787808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152503092506127c9915050565b6001805483516001600160a01b0390911691632e1a7d4d91859161086591613f12565b8151811061088357634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b81526004016108a79190613e3e565b600060405180830381600087803b1580156108c157600080fd5b505af11580156108d5573d6000803e3d6000fd5b505050506109178483600185516108ec9190613f12565b8151811061090a57634e487b7160e01b600052603260045260246000fd5b60200260200101516123e4565b509695505050505050565b60005460609061093c906001600160a01b031684846129dc565b90505b92915050565b6000805481908190610961906001600160a01b03168f8f6126bf565b9050600087610970578c610974565b6002545b60405163d505accf60e01b81529091506001600160a01b0383169063d505accf906109af903390309086908f908e908e908e90600401613928565b600060405180830381600087803b1580156109c957600080fd5b505af11580156109dd573d6000803e3d6000fd5b505050506109f08f8f8f8f8f8f8f611a32565b809450819550505050509b509b9950505050505050505050565b60608142811015610a2d5760405162461bcd60e51b8152600401610520906139f5565b6000546040805160208089028281018201909352888252610a77936001600160a01b0316928c92918b918b9182919085019084908082843760009201919091525061251092505050565b9150868260018451610a899190613f12565b81518110610aa757634e487b7160e01b600052603260045260246000fd5b60200260200101511015610acd5760405162461bcd60e51b815260040161052090613da8565b610af18686600081811061073d57634e487b7160e01b600052603260045260246000fd5b610917828787808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508992506127c9915050565b60608142811015610b535760405162461bcd60e51b8152600401610520906139f5565b600180546001600160a01b03169087908790610b6f9082613f12565b818110610b8c57634e487b7160e01b600052603260045260246000fd5b9050602002016020810190610ba19190613381565b6001600160a01b031614610bc75760405162461bcd60e51b815260040161052090613b77565b6000546040805160208089028281018201909352888252610c11936001600160a01b0316928c92918b918b918291908501908490808284376000920191909152506129dc92505050565b91508682600081518110610c3557634e487b7160e01b600052603260045260246000fd5b602002602001015111156107195760405162461bcd60e51b815260040161052090613c44565b600080546001548291610c7c916001600160a01b03918216918f91166126bf565b9050600086610c8b578b610c8f565b6002545b60405163d505accf60e01b81529091506001600160a01b0383169063d505accf90610cca903390309086908e908d908d908d90600401613928565b600060405180830381600087803b158015610ce457600080fd5b505af1158015610cf8573d6000803e3d6000fd5b50505050610d0a8d8d8d8d8d8d6115dd565b9d9c50505050505050505050505050565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b8042811015610d805760405162461bcd60e51b8152600401610520906139f5565b610e2885856000818110610da457634e487b7160e01b600052603260045260246000fd5b9050602002016020810190610db99190613381565b600080543391610e22916001600160a01b0316908a908a9081610dec57634e487b7160e01b600052603260045260246000fd5b9050602002016020810190610e019190613381565b8a8a60018181106107bb57634e487b7160e01b600052603260045260246000fd5b8a612740565b60008585610e37600182613f12565b818110610e5457634e487b7160e01b600052603260045260246000fd5b9050602002016020810190610e699190613381565b6001600160a01b03166370a08231856040518263ffffffff1660e01b8152600401610e9491906138d6565b60206040518083038186803b158015610eac57600080fd5b505afa158015610ec0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ee491906136b1565b9050610f24868680806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250889250612b81915050565b86610fe9828888610f36600182613f12565b818110610f5357634e487b7160e01b600052603260045260246000fd5b9050602002016020810190610f689190613381565b6001600160a01b03166370a08231886040518263ffffffff1660e01b8152600401610f9391906138d6565b60206040518083038186803b158015610fab57600080fd5b505afa158015610fbf573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fe391906136b1565b90612e17565b10156110075760405162461bcd60e51b815260040161052090613da8565b5050505050505050565b80428110156110325760405162461bcd60e51b8152600401610520906139f5565b600180546001600160a01b0316908690869061104e9082613f12565b81811061106b57634e487b7160e01b600052603260045260246000fd5b90506020020160208101906110809190613381565b6001600160a01b0316146110a65760405162461bcd60e51b815260040161052090613b77565b6110ca85856000818110610da457634e487b7160e01b600052603260045260246000fd5b611108858580806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250309250612b81915050565b6001546040516370a0823160e01b81526000916001600160a01b0316906370a08231906111399030906004016138d6565b60206040518083038186803b15801561115157600080fd5b505afa158015611165573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061118991906136b1565b9050868110156111ab5760405162461bcd60e51b815260040161052090613da8565b600154604051632e1a7d4d60e01b81526001600160a01b0390911690632e1a7d4d906111db908490600401613e3e565b600060405180830381600087803b1580156111f557600080fd5b505af1158015611209573d6000803e3d6000fd5b5050505061100784826123e4565b6060814281101561123a5760405162461bcd60e51b8152600401610520906139f5565b6001546001600160a01b0316868660008161126557634e487b7160e01b600052603260045260246000fd5b905060200201602081019061127a9190613381565b6001600160a01b0316146112a05760405162461bcd60e51b815260040161052090613b77565b60005460408051602080890282810182019093528882526112ea936001600160a01b0316923492918b918b9182919085019084908082843760009201919091525061251092505050565b91508682600184516112fc9190613f12565b8151811061131a57634e487b7160e01b600052603260045260246000fd5b602002602001015110156113405760405162461bcd60e51b815260040161052090613da8565b60015482516001600160a01b039091169063d0e30db090849060009061137657634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b81526004016000604051808303818588803b1580156113a957600080fd5b505af11580156113bd573d6000803e3d6000fd5b5050600154600080546001600160a01b03928316955063a9059cbb94506114029350909116908a908a9081610dec57634e487b7160e01b600052603260045260246000fd5b8460008151811061142357634e487b7160e01b600052603260045260246000fd5b60200260200101516040518363ffffffff1660e01b8152600401611448929190613969565b602060405180830381600087803b15801561146257600080fd5b505af1158015611476573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061149a9190613647565b6114b457634e487b7160e01b600052600160045260246000fd5b6114f3828787808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508992506127c9915050565b5095945050505050565b60006105da848484612e45565b6060814281101561152d5760405162461bcd60e51b8152600401610520906139f5565b6000546040805160208089028281018201909352888252611577936001600160a01b0316928c92918b918b918291908501908490808284376000920191909152506129dc92505050565b9150868260008151811061159b57634e487b7160e01b600052603260045260246000fd5b60200260200101511115610acd5760405162461bcd60e51b815260040161052090613c44565b6001546001600160a01b031681565b60006105da848484612ed9565b600081428110156116005760405162461bcd60e51b8152600401610520906139f5565b60015461161c9089906001600160a01b03168989893089611a32565b6040516370a0823160e01b81529093506116a99150899086906001600160a01b038316906370a08231906116549030906004016138d6565b60206040518083038186803b15801561166c57600080fd5b505afa158015611680573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116a491906136b1565b61235e565b600154604051632e1a7d4d60e01b81526001600160a01b0390911690632e1a7d4d906116d9908590600401613e3e565b600060405180830381600087803b1580156116f357600080fd5b505af1158015611707573d6000803e3d6000fd5b5050505061091784836123e4565b80428110156117365760405162461bcd60e51b8152600401610520906139f5565b6001546001600160a01b0316858560008161176157634e487b7160e01b600052603260045260246000fd5b90506020020160208101906117769190613381565b6001600160a01b03161461179c5760405162461bcd60e51b815260040161052090613b77565b60015460408051630d0e30db60e41b8152905134926001600160a01b03169163d0e30db091849160048082019260009290919082900301818588803b1580156117e457600080fd5b505af11580156117f8573d6000803e3d6000fd5b5050600154600080546001600160a01b03928316955063a9059cbb945061183d9350909116908a908a9081610dec57634e487b7160e01b600052603260045260246000fd5b836040518363ffffffff1660e01b815260040161185b929190613969565b602060405180830381600087803b15801561187557600080fd5b505af1158015611889573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118ad9190613647565b6118c757634e487b7160e01b600052600160045260246000fd5b600086866118d6600182613f12565b8181106118f357634e487b7160e01b600052603260045260246000fd5b90506020020160208101906119089190613381565b6001600160a01b03166370a08231866040518263ffffffff1660e01b815260040161193391906138d6565b60206040518083038186803b15801561194b57600080fd5b505afa15801561195f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061198391906136b1565b90506119c3878780806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250899250612b81915050565b87610fe98289896119d5600182613f12565b8181106119f257634e487b7160e01b600052603260045260246000fd5b9050602002016020810190611a079190613381565b6001600160a01b03166370a08231896040518263ffffffff1660e01b8152600401610f9391906138d6565b6000808242811015611a565760405162461bcd60e51b8152600401610520906139f5565b60008054611a6e906001600160a01b03168c8c6126bf565b6040516323b872dd60e01b81529091506001600160a01b038216906323b872dd90611aa190339085908e90600401613904565b602060405180830381600087803b158015611abb57600080fd5b505af1158015611acf573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611af39190613647565b50600080826001600160a01b03166389afcb44896040518263ffffffff1660e01b8152600401611b2391906138d6565b6040805180830381600087803b158015611b3c57600080fd5b505af1158015611b50573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b7491906137fb565b915091506000611b848e8e612f3b565b509050806001600160a01b03168e6001600160a01b031614611ba7578183611baa565b82825b90975095508a871015611bcf5760405162461bcd60e51b815260040161052090613d62565b89861015611bef5760405162461bcd60e51b815260040161052090613b31565b505050505097509795505050505050565b6000546001600160a01b031681565b60005460609061093c906001600160a01b03168484612510565b6000806000611c6160008054906101000a90046001600160a01b03168e600160009054906101000a90046001600160a01b03166126bf565b9050600087611c70578c611c74565b6002545b60405163d505accf60e01b81529091506001600160a01b0383169063d505accf90611caf903390309086908f908e908e908e90600401613928565b600060405180830381600087803b158015611cc957600080fd5b505af1158015611cdd573d6000803e3d6000fd5b50505050611cef8e8e8e8e8e8e6104fc565b909f909e509c50505050505050505050505050565b60008060008342811015611d2a5760405162461bcd60e51b8152600401610520906139f5565b611d388c8c8c8c8c8c612fc5565b6000805492965090945090611d57906001600160a01b03168e8e6126bf565b9050611d658d338388612740565b611d718c338387612740565b6040516335313c2160e11b81526001600160a01b03821690636a62784290611d9d908a906004016138d6565b602060405180830381600087803b158015611db757600080fd5b505af1158015611dcb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611def91906136b1565b92505050985098509895505050505050565b60008060008342811015611e275760405162461bcd60e51b8152600401610520906139f5565b600154611e42908b906001600160a01b03168b348c8c612fc5565b6000805460015493975091955091611e68916001600160a01b03908116918e91166126bf565b9050611e768b338388612740565b600160009054906101000a90046001600160a01b03166001600160a01b031663d0e30db0856040518263ffffffff1660e01b81526004016000604051808303818588803b158015611ec657600080fd5b505af1158015611eda573d6000803e3d6000fd5b505060015460405163a9059cbb60e01b81526001600160a01b03909116935063a9059cbb9250611f11915084908890600401613969565b602060405180830381600087803b158015611f2b57600080fd5b505af1158015611f3f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f639190613647565b611f7d57634e487b7160e01b600052600160045260246000fd5b6040516335313c2160e11b81526001600160a01b03821690636a62784290611fa9908a906004016138d6565b602060405180830381600087803b158015611fc357600080fd5b505af1158015611fd7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ffb91906136b1565b92508334111561201857612018336120138634613f12565b6123e4565b505096509650969350505050565b606081428110156120495760405162461bcd60e51b8152600401610520906139f5565b6001546001600160a01b0316868660008161207457634e487b7160e01b600052603260045260246000fd5b90506020020160208101906120899190613381565b6001600160a01b0316146120af5760405162461bcd60e51b815260040161052090613b77565b60005460408051602080890282810182019093528882526120f9936001600160a01b0316928b92918b918b918291908501908490808284376000920191909152506129dc92505050565b9150348260008151811061211d57634e487b7160e01b600052603260045260246000fd5b602002602001015111156121435760405162461bcd60e51b815260040161052090613c44565b60015482516001600160a01b039091169063d0e30db090849060009061217957634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b81526004016000604051808303818588803b1580156121ac57600080fd5b505af11580156121c0573d6000803e3d6000fd5b5050600154600080546001600160a01b03928316955063a9059cbb94506122059350909116908a908a9081610dec57634e487b7160e01b600052603260045260246000fd5b8460008151811061222657634e487b7160e01b600052603260045260246000fd5b60200260200101516040518363ffffffff1660e01b815260040161224b929190613969565b602060405180830381600087803b15801561226557600080fd5b505af1158015612279573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061229d9190613647565b6122b757634e487b7160e01b600052600160045260246000fd5b6122f6828787808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508992506127c9915050565b8160008151811061231757634e487b7160e01b600052603260045260246000fd5b60200260200101513411156114f3576114f3338360008151811061234b57634e487b7160e01b600052603260045260246000fd5b6020026020010151346120139190613f12565b60405163a9059cbb60e01b81526001600160a01b0384169063a9059cbb9061238c9085908590600401613969565b602060405180830381600087803b1580156123a657600080fd5b505af11580156123ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123de9190613647565b50505050565b604080516000808252602082019092526001600160a01b03841690839060405161240e91906138ba565b60006040518083038185875af1925050503d806000811461244b576040519150601f19603f3d011682016040523d82523d6000602084013e612450565b606091505b50509050806124715760405162461bcd60e51b815260040161052090613aa6565b505050565b60008084116124975760405162461bcd60e51b815260040161052090613a5a565b6000831180156124a75750600082115b6124c35760405162461bcd60e51b815260040161052090613bf9565b60006124d1856126f76131c0565b905060006124df82856131c0565b905060006124f9836124f3886127106131c0565b90613200565b90506125058183613ed3565b979650505050505050565b60606002825110156125345760405162461bcd60e51b815260040161052090613c8b565b815167ffffffffffffffff81111561255c57634e487b7160e01b600052604160045260246000fd5b604051908082528060200260200182016040528015612585578160200160208202803683370190505b50905082816000815181106125aa57634e487b7160e01b600052603260045260246000fd5b60200260200101818152505060005b600183516125c79190613f12565b8110156126b757600080612636878685815181106125f557634e487b7160e01b600052603260045260246000fd5b60200260200101518786600161260b9190613ebb565b8151811061262957634e487b7160e01b600052603260045260246000fd5b602002602001015161322e565b9150915061266c84848151811061265d57634e487b7160e01b600052603260045260246000fd5b60200260200101518383612476565b84612678856001613ebb565b8151811061269657634e487b7160e01b600052603260045260246000fd5b602002602001018181525050505080806126af90613f6c565b9150506125b9565b509392505050565b60405163e6a4390560e01b81526000906001600160a01b0385169063e6a43905906126f090869086906004016138ea565b60206040518083038186803b15801561270857600080fd5b505afa15801561271c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105da91906133a4565b6040516323b872dd60e01b81526001600160a01b038516906323b872dd9061277090869086908690600401613904565b602060405180830381600087803b15801561278a57600080fd5b505af115801561279e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127c29190613647565b5050505050565b60005b600183516127da9190613f12565b8110156123de5760008084838151811061280457634e487b7160e01b600052603260045260246000fd5b60200260200101518584600161281a9190613ebb565b8151811061283857634e487b7160e01b600052603260045260246000fd5b60200260200101519150915060006128508383612f3b565b509050600087612861866001613ebb565b8151811061287f57634e487b7160e01b600052603260045260246000fd5b60200260200101519050600080836001600160a01b0316866001600160a01b0316146128ad578260006128b1565b6000835b91509150600060028a516128c59190613f12565b88106128d15788612919565b600054612919906001600160a01b0316878c6128ee8c6002613ebb565b8151811061290c57634e487b7160e01b600052603260045260246000fd5b60200260200101516126bf565b600054909150612933906001600160a01b031688886126bf565b6001600160a01b031663022c0d9f84848460006040519080825280601f01601f191660200182016040528015612970576020820181803683370190505b506040518563ffffffff1660e01b81526004016129909493929190613e55565b600060405180830381600087803b1580156129aa57600080fd5b505af11580156129be573d6000803e3d6000fd5b505050505050505050505080806129d490613f6c565b9150506127cc565b6060600282511015612a005760405162461bcd60e51b815260040161052090613c8b565b815167ffffffffffffffff811115612a2857634e487b7160e01b600052604160045260246000fd5b604051908082528060200260200182016040528015612a51578160200160208202803683370190505b509050828160018351612a649190613f12565b81518110612a8257634e487b7160e01b600052603260045260246000fd5b602002602001018181525050600060018351612a9e9190613f12565b90505b80156126b757600080612b008786612aba600187613f12565b81518110612ad857634e487b7160e01b600052603260045260246000fd5b602002602001015187868151811061262957634e487b7160e01b600052603260045260246000fd5b91509150612b36848481518110612b2757634e487b7160e01b600052603260045260246000fd5b60200260200101518383612e45565b84612b42600186613f12565b81518110612b6057634e487b7160e01b600052603260045260246000fd5b60200260200101818152505050508080612b7990613f55565b915050612aa1565b60005b60018351612b929190613f12565b81101561247157600080848381518110612bbc57634e487b7160e01b600052603260045260246000fd5b602002602001015185846001612bd29190613ebb565b81518110612bf057634e487b7160e01b600052603260045260246000fd5b6020026020010151915091506000612c088383612f3b565b506000805491925090612c25906001600160a01b031685856126bf565b9050600080600080846001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b158015612c6657600080fd5b505afa158015612c7a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c9e9190613663565b506001600160701b031691506001600160701b03169150600080876001600160a01b03168a6001600160a01b031614612cd8578284612cdb565b83835b91509150612d0f828b6001600160a01b03166370a082318a6040518263ffffffff1660e01b8152600401610f9391906138d6565b9550612d1c868383612476565b945050505050600080856001600160a01b0316886001600160a01b031614612d4657826000612d4a565b6000835b91509150600060028c51612d5e9190613f12565b8a10612d6a578a612d87565b600054612d87906001600160a01b0316898e6128ee8e6002613ebb565b6040805160008152602081019182905263022c0d9f60e01b9091529091506001600160a01b0387169063022c0d9f90612dc99086908690869060248101613e55565b600060405180830381600087803b158015612de357600080fd5b505af1158015612df7573d6000803e3d6000fd5b505050505050505050505050508080612e0f90613f6c565b915050612b84565b600082612e248382613f12565b915081111561093f5760405162461bcd60e51b8152600401610520906139c6565b6000808411612e665760405162461bcd60e51b815260040161052090613d0d565b600083118015612e765750600082115b612e925760405162461bcd60e51b815260040161052090613bf9565b6000612eaa612710612ea486886131c0565b906131c0565b90506000612ebe6126f7612ea48689612e17565b9050612ecf60016124f38385613ed3565b9695505050505050565b6000808411612efa5760405162461bcd60e51b815260040161052090613bae565b600083118015612f0a5750600082115b612f265760405162461bcd60e51b815260040161052090613bf9565b82612f3185846131c0565b6105da9190613ed3565b600080826001600160a01b0316846001600160a01b03161415612f705760405162461bcd60e51b815260040161052090613df3565b826001600160a01b0316846001600160a01b031610612f90578284612f93565b83835b90925090506001600160a01b038216612fbe5760405162461bcd60e51b815260040161052090613ccc565b9250929050565b6000805460405163e6a4390560e01b8152829182916001600160a01b039091169063e6a4390590612ffc908c908c906004016138ea565b60206040518083038186803b15801561301457600080fd5b505afa158015613028573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061304c91906133a4565b6001600160a01b031614156130e1576000546040516364e329cb60e11b81526001600160a01b039091169063c9c653969061308d908b908b906004016138ea565b602060405180830381600087803b1580156130a757600080fd5b505af11580156130bb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906130df91906133a4565b505b6000805481906130fb906001600160a01b03168b8b61322e565b9150915081600014801561310d575080155b1561311d578793508692506131b3565b600061312a898484612ed9565b905087811161315e57858110156131535760405162461bcd60e51b815260040161052090613b31565b8894509250826131b1565b600061316b898486612ed9565b90508981111561318b57634e487b7160e01b600052600160045260246000fd5b878110156131ab5760405162461bcd60e51b815260040161052090613d62565b94508793505b505b5050965096945050505050565b60008115806131e4575082826131d68183613ef3565b92506131e29083613ed3565b145b61093f5760405162461bcd60e51b815260040161052090613a2c565b60008261320d8382613ebb565b915081101561093f5760405162461bcd60e51b815260040161052090613b03565b600080600061323d8585612f3b565b50905060008061324e8888886126bf565b6001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561328657600080fd5b505afa15801561329a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132be9190613663565b506001600160701b031691506001600160701b03169150826001600160a01b0316876001600160a01b0316146132f55780826132f8565b81815b90999098509650505050505050565b803561331281613fb3565b919050565b60008083601f840112613328578081fd5b50813567ffffffffffffffff81111561333f578182fd5b6020830191508360208083028501011115612fbe57600080fd5b80516001600160701b038116811461331257600080fd5b803560ff8116811461331257600080fd5b600060208284031215613392578081fd5b813561339d81613fb3565b9392505050565b6000602082840312156133b5578081fd5b815161339d81613fb3565b600080600080600080600060e0888a0312156133da578283fd5b87356133e581613fb3565b965060208801356133f581613fb3565b955060408801359450606088013593506080880135925060a088013561341a81613fb3565b8092505060c0880135905092959891949750929550565b60008060008060008060008060008060006101608c8e031215613452578384fd5b8b3561345d81613fb3565b9a5060208c013561346d81613fb3565b995060408c0135985060608c0135975060808c0135965060a08c013561349281613fb3565b955060c08c0135945060e08c01356134a981613fcb565b93506134b86101008d01613370565b92506101208c013591506101408c013590509295989b509295989b9093969950565b600080600080600080600080610100898b0312156134f6578384fd5b883561350181613fb3565b9750602089013561351181613fb3565b965060408901359550606089013594506080890135935060a0890135925060c089013561353d81613fb3565b8092505060e089013590509295985092959890939650565b60008060008060008060c0878903121561356d578182fd5b863561357881613fb3565b9550602087013594506040870135935060608701359250608087013561359d81613fb3565b8092505060a087013590509295509295509295565b6000806000806000806000806000806101408b8d0312156135d1578384fd5b8a356135dc81613fb3565b995060208b0135985060408b0135975060608b0135965060808b013561360181613fb3565b955060a08b0135945060c08b013561361881613fcb565b935061362660e08c01613370565b92506101008b013591506101208b013590509295989b9194979a5092959850565b600060208284031215613658578081fd5b815161339d81613fcb565b600080600060608486031215613677578081fd5b61368084613359565b925061368e60208501613359565b9150604084015163ffffffff811681146136a6578182fd5b809150509250925092565b6000602082840312156136c2578081fd5b5051919050565b6000806000806000608086880312156136e0578283fd5b85359450602086013567ffffffffffffffff8111156136fd578384fd5b61370988828901613317565b909550935050604086013561371d81613fb3565b949793965091946060013592915050565b60008060408385031215613740578182fd5b8235915060208084013567ffffffffffffffff8082111561375f578384fd5b818601915086601f830112613772578384fd5b81358181111561378457613784613f9d565b838102604051858282010181811085821117156137a3576137a3613f9d565b604052828152858101935084860182860187018b10156137c1578788fd5b8795505b838610156137ea576137d681613307565b8552600195909501949386019386016137c5565b508096505050505050509250929050565b6000806040838503121561380d578182fd5b505080516020909101519092909150565b60008060008060008060a08789031215613836578384fd5b8635955060208701359450604087013567ffffffffffffffff81111561385a578485fd5b61386689828a01613317565b909550935050606087013561387a81613fb3565b80925050608087013590509295509295509295565b6000806000606084860312156138a3578081fd5b505081359360208301359350604090920135919050565b600082516138cc818460208701613f29565b9190910192915050565b6001600160a01b0391909116815260200190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b0397881681529590961660208601526040850193909352606084019190915260ff16608083015260a082015260c081019190915260e00190565b6001600160a01b03929092168252602082015260400190565b6020808252825182820181905260009190848201906040850190845b818110156139ba5783518352928401929184019160010161399e565b50909695505050505050565b60208082526015908201527464732d6d6174682d7375622d756e646572666c6f7760581b604082015260600190565b60208082526018908201527f556e69737761705632526f757465723a20455850495245440000000000000000604082015260600190565b60208082526014908201527364732d6d6174682d6d756c2d6f766572666c6f7760601b604082015260600190565b60208082526040908201819052600080516020613fda833981519152908201527f62726172793a20494e53554646494349454e545f494e5055545f414d4f554e54606082015260800190565b60208082526038908201527f4d6f636b556e69737761705632526f7574657230325472616e7366657248656c60408201527f7065723a204554485f5452414e534645525f4641494c45440000000000000000606082015260800190565b60208082526014908201527364732d6d6174682d6164642d6f766572666c6f7760601b604082015260600190565b60208082526026908201527f556e69737761705632526f757465723a20494e53554646494349454e545f425f604082015265105353d5539560d21b606082015260800190565b6020808252601d908201527f556e69737761705632526f757465723a20494e56414c49445f50415448000000604082015260600190565b6020808252603a90820152600080516020613fda83398151915260408201527f62726172793a20494e53554646494349454e545f414d4f554e54000000000000606082015260800190565b6020808252603d90820152600080516020613fda83398151915260408201527f62726172793a20494e53554646494349454e545f4c4951554944495459000000606082015260800190565b60208082526027908201527f556e69737761705632526f757465723a204558434553534956455f494e50555460408201526617d05353d5539560ca1b606082015260800190565b6020808252603390820152600080516020613fda8339815191526040820152720c4e4c2e4f27440929cac82989288bea082a89606b1b606082015260800190565b6020808252603390820152600080516020613fda83398151915260408201527262726172793a205a45524f5f4144445245535360681b606082015260800190565b6020808252604190820152600080516020613fda83398151915260408201527f62726172793a20494e53554646494349454e545f4f55545055545f414d4f554e6060820152601560fa1b608082015260a00190565b60208082526026908201527f556e69737761705632526f757465723a20494e53554646494349454e545f415f604082015265105353d5539560d21b606082015260800190565b6020808252602b908201527f556e69737761705632526f757465723a20494e53554646494349454e545f4f5560408201526a1514155517d05353d5539560aa1b606082015260800190565b6020808252603a90820152600080516020613fda83398151915260408201527f62726172793a204944454e544943414c5f414444524553534553000000000000606082015260800190565b90815260200190565b918252602082015260400190565b600085825284602083015260018060a01b0384166040830152608060608301528251806080840152613e8e8160a0850160208701613f29565b601f01601f19169190910160a00195945050505050565b9283526020830191909152604082015260600190565b60008219821115613ece57613ece613f87565b500190565b600082613eee57634e487b7160e01b81526012600452602481fd5b500490565b6000816000190483118215151615613f0d57613f0d613f87565b500290565b600082821015613f2457613f24613f87565b500390565b60005b83811015613f44578181015183820152602001613f2c565b838111156123de5750506000910152565b600081613f6457613f64613f87565b506000190190565b6000600019821415613f8057613f80613f87565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114613fc857600080fd5b50565b8015158114613fc857600080fdfe4d6f636b556e69737761705632526f757465723032556e697377617056324c69a2646970667358221220cc93584443ea7f65f7b9b4afd75ab7f51857c6e9a48c77758793d00523b9de9764736f6c63430008000033`

func (w *testWallet) CreateExportRawTx(txid string, amount, fee int64) (string, error) {
	amount -= fee
	if txid == "" {
		return txid, errors.New("CreateExportRawTx Error,Amount Not Enough")
	}
	s, err := w.client.CreateExportRawTx(txid, w.pkAddrs[0].String(),
		0, amount)
	if err != nil {
		return "", err
	}
	s, err = w.client.TestSign(hex.EncodeToString(w.privkeys[0]), s, "")
	if err != nil {
		return "", err
	}
	tx, err := w.client.SendRawTx(s, true)
	if err != nil {
		return "", err
	}
	return tx.String(), nil
}

func (w *testWallet) GetBalance(addr string) (*big.Int, error) {
	hb, err := w.evmClient.BalanceAt(context.Background(), common.HexToAddress(addr), nil)
	if err != nil {
		return nil, err
	}
	return ConvertEthToMeer(hb), nil
}

func (w *testWallet) CreateErc20() (string, error) {
	return w.CreateLegacyTx(w.privkeys[0], nil, 0, 0, big.NewInt(0), common.FromHex(ERC20Code))
}

func (w *testWallet) CreateWETH() (string, error) {
	return w.CreateLegacyTx(w.privkeys[0], nil, 0, 0, big.NewInt(0), common.FromHex(WETH))
}

func (w *testWallet) CreateWMEER() (string, error) {
	return w.CreateLegacyTx(w.privkeys[0], nil, 0, 0, big.NewInt(0), common.FromHex(WMEER))
}

func (w *testWallet) CreateFactory() (string, error) {
	return w.CreateLegacyTx(w.privkeys[0], nil, 0, 0, big.NewInt(0), common.FromHex(FACTORY))
}

func (w *testWallet) CreateRouter() (string, error) {
	return w.CreateLegacyTx(w.privkeys[0], nil, 0, 0, big.NewInt(0), common.FromHex(ROUTER))
}

func (w *testWallet) AuthTrans(privatekeybyte []byte) (*bind.TransactOpts, error) {
	privateKey := crypto.ToECDSAUnsafe(privatekeybyte)
	return bind.NewKeyedTransactorWithChainID(privateKey, big.NewInt(CHAIN_ID))
}

func (w *testWallet) CreateLegacyTx(fromPkByte []byte, to *common.Address, nonce uint64, gas uint64, val *big.Int, d []byte) (string, error) {
	privateKey := crypto.ToECDSAUnsafe(fromPkByte)
	publicKey := privateKey.Public()
	publicKeyECDSA, ok := publicKey.(*ecdsa.PublicKey)
	if !ok {
		return "", errors.New("private key error")
	}
	fromAddress := crypto.PubkeyToAddress(*publicKeyECDSA)
	log.Println("from address", fromAddress.String())
	var err error
	if nonce <= 0 {
		nonce, err = w.evmClient.PendingNonceAt(context.Background(), fromAddress)
		if err != nil {
			return "", err
		}
	}
	gasLimit := uint64(GAS_LIMIT) // in units
	if gas > 0 {
		gasLimit = gas
	}
	gasPrice, err := w.evmClient.SuggestGasPrice(context.Background())
	if err != nil {
		return "", err
	}
	data := &types.LegacyTx{
		To:       to,
		Nonce:    nonce,
		Gas:      gasLimit,
		GasPrice: gasPrice,
		Value:    val,
		Data:     d,
	}
	tx := types.NewTx(data)
	signedTx, err := types.SignTx(tx, types.NewEIP155Signer(big.NewInt(CHAIN_ID)), privateKey)
	if err != nil {
		return "", err
	}
	err = w.evmClient.SendTransaction(context.Background(), signedTx)
	if err != nil {
		return "", err
	}
	return signedTx.Hash().Hex(), nil
}
